<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>GSAdDelegate Protocol Reference</title>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 789)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">ConversantSDK </a></h1>
				<a id="developerHome" href="../index.html">Conversant</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">GSAdDelegate Protocol Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button">
					<select id="jumpTo">
						<option value="top">Jump To&#8230;</option>

						<option value="overview">Overview</option>

						<option value="tasks">Tasks</option>

						<option value="instance_methods">Instance Methods</option>

						<option value="//api/name/greystripeAdClickedThrough:">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeAdClickedThrough:</option>

						<option value="//api/name/greystripeAdFetchFailed:withError:">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeAdFetchFailed:withError:</option>

						<option value="//api/name/greystripeAdFetchSucceeded:">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeAdFetchSucceeded:</option>

						<option value="//api/name/greystripeBannerAdDidCollapse">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeBannerAdDidCollapse</option>

						<option value="//api/name/greystripeBannerAdWillExpand">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeBannerAdWillExpand</option>

						<option value="//api/name/greystripeBannerAutoload">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeBannerAutoload</option>

						<option value="//api/name/greystripeBannerDisplayViewController">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeBannerDisplayViewController</option>

						<option value="//api/name/greystripeDidDismissModalViewController">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeDidDismissModalViewController</option>

						<option value="//api/name/greystripeGUID">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeGUID</option>

						<option value="//api/name/greystripeShouldLogAdID">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeShouldLogAdID</option>

						<option value="//api/name/greystripeWillDismissModalViewController">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeWillDismissModalViewController</option>

						<option value="//api/name/greystripeWillPresentModalViewController">&nbsp;&nbsp;&nbsp;&nbsp;- greystripeWillPresentModalViewController</option>

					</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
				<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>

				<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span>
				</li>

				<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span>
					<ul>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeAdClickedThrough:">greystripeAdClickedThrough:</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeAdFetchFailed:withError:">greystripeAdFetchFailed:withError:</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeAdFetchSucceeded:">greystripeAdFetchSucceeded:</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeBannerAdDidCollapse">greystripeBannerAdDidCollapse</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeBannerAdWillExpand">greystripeBannerAdWillExpand</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeBannerAutoload">greystripeBannerAutoload</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeBannerDisplayViewController">greystripeBannerDisplayViewController</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeDidDismissModalViewController">greystripeDidDismissModalViewController</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeGUID">greystripeGUID</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeShouldLogAdID">greystripeShouldLogAdID</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeWillDismissModalViewController">greystripeWillDismissModalViewController</a></span></li>

						<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/greystripeWillPresentModalViewController">greystripeWillPresentModalViewController</a></span></li>

					</ul>
				</li>
			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="GSAdDelegate Protocol Reference" id="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
						<li><a href="../index.html">Index</a></li>
						<li><a href="../hierarchy.html">Hierarchy</a></li>
					</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">GSAdDelegate Protocol Reference</h1>
					</div>		
				</div>

				<div id="container">	

					<div class="section section-specification">
						<table>
							<tbody>
								<tr>
									<td class="specification-title">Conforms to</td>
									<td class="specification-value">NSObject</td>
								</tr>
								<tr>
									<td class="specification-title">Declared in</td>
									<td class="specification-value">GSAdDelegate.h</td>
								</tr>
							</tbody>
						</table>
					</div>

					<div class="section section-overview">
						<a title="Overview" id="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The <a href="GSAdDelegate.html">GSAdDelegate</a> protocol defines the methods a delegate of a <a href="../Classes/GSFullscreenAd.html">GSFullscreenAd</a> object or a <a href="../Classes/GSBannerAdView.html">GSBannerAdView</a> object should implement. The delegate receives notifications for ad fetch successes and failures, ad clickthroughs, and for when a fullscreen ad will take over the screen and dismiss from the screen.</p>

						<p>The delegate is required to provide a UIViewController that ads should be displayed from, and can optionally provide a global unique identifier for the application and a value for the autoload property.</p>
					</div>

					<div class="section section-tasks">
						<a title="Tasks" id="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>

						<ul class="task-list">
							<li>
								<span class="tooltip">
									<code><a href="#//api/name/greystripeBannerDisplayViewController">&ndash;&nbsp;greystripeBannerDisplayViewController</a></code>
									<span class="tooltip">The view controller that the banner ad&rsquo;s browser should be displayed from.</span>
								</span>

							</li>
							<li>
								<span class="tooltip">
									<code><a href="#//api/name/greystripeGUID">&ndash;&nbsp;greystripeGUID</a></code>
									<span class="tooltip">The global unique identifier for the application.</span>
								</span>


							</li>
							<li>
								<span class="tooltip">
									<code><a href="#//api/name/greystripeBannerAutoload">&ndash;&nbsp;greystripeBannerAutoload</a></code>
									<span class="tooltip">A BOOL indicating whether the first banner ad should be fetched automatically.</span>
								</span>


							</li>
							<li>
								<span class="tooltip">
									<code><a href="#//api/name/greystripeAdFetchSucceeded:">&ndash;&nbsp;greystripeAdFetchSucceeded:</a></code>
									<span class="tooltip">Sent when an ad has successfully been fetched and is ready to be displayed.</span>
								</span>


							</li><li>
							<span class="tooltip">
								<code><a href="#//api/name/greystripeAdFetchFailed:withError:">&ndash;&nbsp;greystripeAdFetchFailed:withError:</a></code>
								<span class="tooltip">Sent if the ad fetch request failed.</span>
							</span>


						</li><li>
						<span class="tooltip">
							<code><a href="#//api/name/greystripeAdClickedThrough:">&ndash;&nbsp;greystripeAdClickedThrough:</a></code>
							<span class="tooltip">Sent when the ad is clicked through to the browser or to an external app.</span>
						</span>


					</li><li>
					<span class="tooltip">
						<code><a href="#//api/name/greystripeWillPresentModalViewController">&ndash;&nbsp;greystripeWillPresentModalViewController</a></code>
						<span class="tooltip">Sent when a fullscreen ad is about to take over the screen, or when the browser
							is about to present modally for banner ads.</span>
						</span>


					</li><li>
					<span class="tooltip">
						<code><a href="#//api/name/greystripeWillDismissModalViewController">&ndash;&nbsp;greystripeWillDismissModalViewController</a></code>
						<span class="tooltip">Sent when the fullscreen ad&rsquo;s view controller or the browser view controller
							is about to animate off screen. If a view controller needs to be pushed or
							popped when the ad is dismissed, it should be done here.</span>
						</span>


					</li><li>
					<span class="tooltip">
						<code><a href="#//api/name/greystripeDidDismissModalViewController">&ndash;&nbsp;greystripeDidDismissModalViewController</a></code>
						<span class="tooltip">Sent after the fullscreen ad&rsquo;s view controller or the browser view controller has fully animated off screen. If the app wants to present a modal view controller after an ad has been dismissed, it must be done in this method. Modal presentation will not work from the <a href="#//api/name/greystripeWillDismissModalViewController">greystripeWillDismissModalViewController</a> method.</span>
					</span>


				</li><li>
				<span class="tooltip">
					<code><a href="#//api/name/greystripeBannerAdWillExpand">&ndash;&nbsp;greystripeBannerAdWillExpand</a></code>
					<span class="tooltip">Sent when a banner ad&rsquo;s view is about to expand to take over the
						full screen.</span>
					</span>


				</li><li>
				<span class="tooltip">
					<code><a href="#//api/name/greystripeBannerAdDidCollapse">&ndash;&nbsp;greystripeBannerAdDidCollapse</a></code>
					<span class="tooltip">Sent after an expanded banner ad has collapsed back to it&rsquo;s normal
						size.</span>
					</span>


				</li><li>
				<span class="tooltip">
					<code><a href="#//api/name/greystripeShouldLogAdID">&ndash;&nbsp;greystripeShouldLogAdID</a></code>
					<span class="tooltip">Return YES in this method in order to log out the ID for each ad. This
						defaults to NO.</span>
					</span>
				</li>
			</ul>

		</div>

		<div class="section section-methods">
			<a title="Instance Methods" id="instance_methods"></a>
			<h2 class="subtitle subtitle-methods">Instance Methods</h2>

			<div class="section-method">
				<a id="//api/name/greystripeAdClickedThrough:" title="greystripeAdClickedThrough:"></a>
				<h3 class="subsubtitle method-title">greystripeAdClickedThrough:</h3>

				<div class="method-subsection brief-description">
					<p>Sent when the ad is clicked through to the browser or to an external app.</p>
				</div>

				<div class="method-subsection method-declaration">
					<code>- (void)greystripeAdClickedThrough:(id&lt;GSAd&gt;)<em>a_ad</em></code>
				</div>

				<div class="method-subsection arguments-section parameters">
					<h4 class="method-subtitle parameter-title">Parameters</h4>

					<dl class="argument-def parameter-def">
						<dt><em>a_ad</em></dt>
						<dd><p>The ad that clicked through.</p></dd>
					</dl>

				</div>

				<div class="method-subsection declared-in-section">
					<h4 class="method-subtitle">Declared In</h4>
					<code class="declared-in-ref">GSAdDelegate.h</code><br />
				</div>
			</div>

			<div class="section-method">
				<a id="//api/name/greystripeAdFetchFailed:withError:" title="greystripeAdFetchFailed:withError:"></a>
				<h3 class="subsubtitle method-title">greystripeAdFetchFailed:withError:</h3>

				<div class="method-subsection brief-description">
					<p>  Sent if the ad fetch request failed.</p>
				</div>

				<div class="method-subsection method-declaration"><code>- (void)greystripeAdFetchFailed:(id&lt;GSAd&gt;)<em>a_ad</em> withError:(GSAdError)<em>a_error</em></code></div>


				<div class="method-subsection arguments-section parameters">
					<h4 class="method-subtitle parameter-title">Parameters</h4>

					<dl class="argument-def parameter-def">
						<dt><em>a_ad</em></dt>
						<dd><p>The ad that failed.</p></dd>
					</dl>

					<dl class="argument-def parameter-def">
						<dt><em>a_error</em></dt>
						<dd><p>The GSAdError that occured during fetching.</p></dd>
					</dl>

				</div>

				<div class="method-subsection discussion-section">
					<h4 class="method-subtitle">Discussion</h4>
					<p>  The possible errors that may occur are:</p>

					<p>   <strong>kGSNoNetwork:</strong> This error is dispatched when there is no available network connection.</p>

					<p>   <strong>kGSNoAd:</strong> This error is dispatched when a blank ad is returned by the server.</p>

					<p>   <strong>kGSTimeout:</strong> This error is dispatched when the request took too long to complete.</p>

					<p>   <strong>kGSServerError:</strong> This error is dispatched when a server error occurs.</p>

					<p>   <strong>kGSInvalidApplicationIdentifier:</strong> This error is dispatched when the GUID provided by the application is not a valid Greystripe GUID.</p>

					<p>   <strong>kGSAdExpired:</strong> This error is dispatched when the ad that is fetched is expired and cannot be displayed.</p>

					<p>   <strong>kGSFetchLimitExceeded:</strong> This error is dispatched after the SDK prevents a fetch from occurring when it is highly unlikely that an ad would be returned. This error can occur in high volume, low fill situations or when too many ad requests are made in a short period of time. This error will resolve itself after a short timeout. If you frequently receive this message you should reduce the frequency of your requests or use an alternate fallback method when no ad is available.</p>

					<p>   <strong>kGSUnknown:</strong> This error is dispatched when the cause of the error is unknown.</p>
				</div>

				<div class="method-subsection declared-in-section">
					<h4 class="method-subtitle">Declared In</h4>
					<code class="declared-in-ref">GSAdDelegate.h</code><br />
				</div>				
			</div>

			<div class="section-method">
				<a id="//api/name/greystripeAdFetchSucceeded:" title="greystripeAdFetchSucceeded:"></a>
				<h3 class="subsubtitle method-title">greystripeAdFetchSucceeded:</h3>

				<div class="method-subsection brief-description">
					<p>Sent when an ad has successfully been fetched and is ready to be displayed.</p>
				</div>		

				<div class="method-subsection method-declaration">
					<code>- (void)greystripeAdFetchSucceeded:(id&lt;GSAd&gt;)<em>a_ad</em></code>
				</div>

				<div class="method-subsection arguments-section parameters">
					<h4 class="method-subtitle parameter-title">Parameters</h4>

					<dl class="argument-def parameter-def">
						<dt><em>a_ad</em></dt>
						<dd><p>The ad that succeeded.</p></dd>
					</dl>

				</div>

				<div class="method-subsection declared-in-section">
					<h4 class="method-subtitle">Declared In</h4>
					<code class="declared-in-ref">GSAdDelegate.h</code><br />
				</div>
			</div>

			<div class="section-method">
				<a id="//api/name/greystripeBannerAdDidCollapse" title="greystripeBannerAdDidCollapse"></a>
				<h3 class="subsubtitle method-title">greystripeBannerAdDidCollapse</h3>

				<div class="method-subsection brief-description">
					<p>Sent after an expanded banner ad has collapsed back to it&rsquo;s normal size.</p>
				</div>

				<div class="method-subsection method-declaration">
					<code>- (void)greystripeBannerAdDidCollapse</code>
				</div>

				<div class="method-subsection declared-in-section">
					<h4 class="method-subtitle">Declared In</h4>
					<code class="declared-in-ref">GSAdDelegate.h</code><br />
				</div>				
			</div>

			<div class="section-method">
				<a id="//api/name/greystripeBannerAdWillExpand" title="greystripeBannerAdWillExpand"></a>
				<h3 class="subsubtitle method-title">greystripeBannerAdWillExpand</h3>

				<div class="method-subsection brief-description">
					<p>Sent when a banner ad&rsquo;s view is about to expand to take over the full screen.</p>
				</div>		

				<div class="method-subsection method-declaration">
					<code>- (void)greystripeBannerAdWillExpand</code>
				</div>

				<div class="method-subsection declared-in-section">
					<h4 class="method-subtitle">Declared In</h4>
					<code class="declared-in-ref">GSAdDelegate.h</code><br />
				</div>
			</div>

			<div class="section-method">
				<a id="//api/name/greystripeBannerAutoload" title="greystripeBannerAutoload"></a>
				<h3 class="subsubtitle method-title">greystripeBannerAutoload</h3>

				<div class="method-subsection brief-description">
					<p>A BOOL indicating whether the first banner ad should be fetched automatically.</p>
				</div>		

				<div class="method-subsection method-declaration"><code>- (BOOL)greystripeBannerAutoload</code></div>

				<div class="method-subsection discussion-section">
					<h4 class="method-subtitle">Discussion</h4>
					<p>The default value is YES.</p><div class="warning"><p><strong>Warning:</strong> If this method is implemented, all subsequent setting of this property
					will be ignored.</p></div>
				</div>

				<div class="method-subsection declared-in-section">
					<h4 class="method-subtitle">Declared In</h4>
					<code class="declared-in-ref">GSAdDelegate.h</code><br />
				</div>
			</div>

			<div class="section-method">
				<a id="//api/name/greystripeBannerDisplayViewController" title="greystripeBannerDisplayViewController"></a>
				<h3 class="subsubtitle method-title">greystripeBannerDisplayViewController</h3>

				<div class="method-subsection brief-description">
					<p>The view controller that the banner ad&rsquo;s browser should be displayed from.</p>
				</div>		

				<div class="method-subsection method-declaration">
					<code>- (UIViewController *)greystripeBannerDisplayViewController</code>
				</div>



				<div class="method-subsection discussion-section">
					<h4 class="method-subtitle">Discussion</h4>
					<div class="warning"><p><strong>Warning:</strong> This must be implemented for banner ads. This view controller cannot be popped or removed from the view heiarchy while the browser is being displayed.</p></div>
				</div>

				<div class="method-subsection declared-in-section">
					<h4 class="method-subtitle">Declared In</h4>
					<code class="declared-in-ref">GSAdDelegate.h</code><br />
				</div>
			</div>

			<div class="section-method">
				<a id="//api/name/greystripeDidDismissModalViewController" title="greystripeDidDismissModalViewController"></a>
				<h3 class="subsubtitle method-title">greystripeDidDismissModalViewController</h3>

				<div class="method-subsection brief-description">
					<p>Sent after the fullscreen ad&rsquo;s view controller or the browser view controller
						has fully animated off screen. If the app wants to present a modal view controller after
						an ad has been dismissed, it must be done in this method. Modal presentation will not work
						from the <a href="#//api/name/greystripeWillDismissModalViewController">greystripeWillDismissModalViewController</a> method.</p>
					</div>		


					<div class="method-subsection method-declaration"><code>- (void)greystripeDidDismissModalViewController</code></div>

					<div class="method-subsection declared-in-section">
						<h4 class="method-subtitle">Declared In</h4>
						<code class="declared-in-ref">GSAdDelegate.h</code><br />
					</div>
				</div>

				<div class="section-method">
					<a id="//api/name/greystripeGUID" title="greystripeGUID"></a>
					<h3 class="subsubtitle method-title">greystripeGUID</h3>

					<div class="method-subsection brief-description">
						<p>The global unique identifier for the application.</p>
					</div>

					<div class="method-subsection method-declaration"><code>- (NSString *)greystripeGUID</code></div>

					<div class="method-subsection discussion-section">
						<h4 class="method-subtitle">Discussion</h4>
						<p>This must be set if it is not passed in on ad initialization.</p><div class="warning"><p><strong>Warning:</strong> This can only be set once by the application. All subsquent setting of
						the GUID will be ignored.</p></div>
					</div>

					<div class="method-subsection declared-in-section">
						<h4 class="method-subtitle">Declared In</h4>
						<code class="declared-in-ref">GSAdDelegate.h</code><br />
					</div>
				</div>

				<div class="section-method">
					<a id="//api/name/greystripeShouldLogAdID" title="greystripeShouldLogAdID"></a>
					<h3 class="subsubtitle method-title">greystripeShouldLogAdID</h3>

					<div class="method-subsection brief-description">
						<p>Return YES in this method in order to log out the ID for each ad. This
							defaults to NO.</p>
						</div>

						<div class="method-subsection method-declaration"><code>- (BOOL)greystripeShouldLogAdID</code></div>

						<div class="method-subsection declared-in-section">
							<h4 class="method-subtitle">Declared In</h4>
							<code class="declared-in-ref">GSAdDelegate.h</code><br />
						</div>
					</div>

					<div class="section-method">
						<a id="//api/name/greystripeWillDismissModalViewController" title="greystripeWillDismissModalViewController"></a>
						<h3 class="subsubtitle method-title">greystripeWillDismissModalViewController</h3>

						<div class="method-subsection brief-description">
							<p>Sent when the fullscreen ad&rsquo;s view controller or the browser view controller
								is about to animate off screen. If a view controller needs to be pushed or
								popped when the ad is dismissed, it should be done here.</p>
							</div>		


							<div class="method-subsection method-declaration">
								<code>- (void)greystripeWillDismissModalViewController</code>
							</div>

							<div class="method-subsection declared-in-section">
								<h4 class="method-subtitle">Declared In</h4>
								<code class="declared-in-ref">GSAdDelegate.h</code><br />
							</div>				
						</div>

						<div class="section-method">
							<a id="//api/name/greystripeWillPresentModalViewController" title="greystripeWillPresentModalViewController"></a>
							<h3 class="subsubtitle method-title">greystripeWillPresentModalViewController</h3>

							<div class="method-subsection brief-description">
								<p>Sent when a fullscreen ad is about to take over the screen, or when the browser is about to present modally for banner ads.</p>
							</div>

							<div class="method-subsection method-declaration">
								<code>- (void)greystripeWillPresentModalViewController</code>
							</div>

							<div class="method-subsection declared-in-section">
								<h4 class="method-subtitle">Declared In</h4>
								<code class="declared-in-ref">GSAdDelegate.h</code><br />
							</div>
						</div>
					</div>
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
						<li><a href="../index.html">Index</a></li>
						<li><a href="../hierarchy.html">Hierarchy</a></li>
					</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p>
							<span class="copyright">&copy; 2014 Conversant. All rights reserved. (Last updated: 2014-03-13)</span><br />

							<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 789)</a>.</span>
						</p>

					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>